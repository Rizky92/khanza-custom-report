<?php

namespace App\Models\Aplikasi;

use App\Support\Traits\Eloquent\Searchable;
use App\Support\Traits\Eloquent\Sortable;
use Illuminate\Database\Eloquent\Builder;
use Illuminate\Foundation\Auth\User as Authenticatable;
use Illuminate\Notifications\Notifiable;
use Illuminate\Support\Facades\DB;
use Spatie\Permission\Traits\HasRoles;

class User extends Authenticatable
{
    use Notifiable, HasRoles, Searchable, Sortable;

    protected $primaryKey = 'id_user';

    protected $keyType = 'string';

    protected $table = 'user';

    public $incrementing = false;

    public $timestamps = false;

    protected $hidden = ['password'];

    protected $fillable = [
        'jadwal_praktek',
        'registrasi',
        'tindakan_ralan',
        'kamar_inap',
        'tindakan_ranap',
        'operasi',
        'rujukan_keluar',
        'rujukan_masuk',
        'beri_obat',
        'resep_pulang',
        'diet_pasien',
        'periksa_lab',
        'periksa_radiologi',
        'kasir_ralan',
        'informasi_kamar',
        'resep_obat',
        'billing_ralan',
        'billing_ranap',
        'igd',
        'dpjp_ranap',
        'edit_registrasi',
        'rujukan_poli_internal',
        'billing_parsial',
        'akses_depo_obat',
        'booking_operasi',
        'booking_registrasi',
        'permintaan_lab',
        'permintaan_radiologi',
        'catatan_perawatan',
        'pengkajian_askep',
        'sekrining_rawat_jalan',
        'perkiraan_biaya_ranap',
        'permintaan_diet',
        'deteksi_corona',
        'booking_periksa',
        'pemeriksaan_lab_pa',
        'permintaan_ranap',
        'ubah_petugas_lab_pk',
        'ubah_petugas_lab_pa',
        'ubah_petugas_radiologi',
        'gabung_norawat',
        'pemeriksaan_lab_mb',
        'ubah_petugas_lab_mb',
        'barcoderalan',
        'barcoderanap',
        'dokter',
        'petugas',
        'barcode',
        'presensi_harian',
        'presensi_bulanan',
        'pegawai_admin',
        'pegawai_user',
        'sms',
        'sidikjari',
        'jam_masuk',
        'jadwal_pegawai',
        'temporary_presensi',
        'master_berkas_pegawai',
        'berkas_kepegawaian',
        'riwayat_jabatan',
        'riwayat_pendidikan',
        'riwayat_naik_gaji',
        'kegiatan_ilmiah',
        'riwayat_penghargaan',
        'riwayat_penelitian',
        'jenis_cidera_k3rs',
        'penyebab_k3rs',
        'jenis_luka_k3rs',
        'lokasi_kejadian_k3rs',
        'dampak_cidera_k3rs',
        'jenis_pekerjaan_k3rs',
        'bagian_tubuh_k3rs',
        'peristiwa_k3rs',
        'jenis_cidera_k3rstahun',
        'penyebab_k3rstahun',
        'jenis_luka_k3rstahun',
        'lokasi_kejadian_k3rstahun',
        'dampak_cidera_k3rstahun',
        'jenis_pekerjaan_k3rstahun',
        'bagian_tubuh_k3rstahun',
        'pengajuan_cuti',
        'audit_kepatuhan_apd',
        'audit_cuci_tangan_medis',
        'audit_pembuangan_limbah',
        'ruang_audit_kepatuhan',
        'audit_pembuangan_benda_tajam',
        'audit_penanganan_darah',
        'audit_pengelolaan_linen_kotor',
        'audit_penempatan_pasien',
        'audit_kamar_jenazah',
        'audit_bundle_iadp',
        'audit_bundle_ido',
        'audit_fasilitas_kebersihan_tangan',
        'audit_fasilitas_apd',
        'audit_pembuangan_limbah_cair_infeksius',
        'audit_sterilisasi_alat',
        'audit_bundle_isk',
        'audit_bundle_plabsi',
        'audit_bundle_vap',
        'suplier',
        'satuan_barang',
        'konversi_satuan',
        'jenis_barang',
        'obat',
        'stok_opname_obat',
        'stok_obat_pasien',
        'pengadaan_obat',
        'pemesanan_obat',
        'penjualan_obat',
        'piutang_obat',
        'retur_ke_suplier',
        'retur_dari_pembeli',
        'retur_obat_ranap',
        'retur_piutang_pasien',
        'keuntungan_penjualan',
        'keuntungan_beri_obat',
        'sirkulasi_obat',
        'mutasi_barang',
        'darurat_stok',
        'sirkulasi_obat2',
        'industrifarmasi',
        'pengambilan_utd',
        'keuntungan_beri_obat_nonpiutang',
        'riwayat_obat_alkes_bhp',
        'resep_dokter',
        'kategori_barang',
        'golongan_barang',
        'pemberian_obat_pertanggal',
        'penjualan_obat_pertanggal',
        'permintaan_medis',
        'rekap_permintaan_medis',
        'surat_pemesanan_medis',
        'pengeluaran_stok_apotek',
        'metode_racik',
        'pengguna_obat_resep',
        'rekap_pemesanan',
        'riwayat_data_batch',
        'kegiatan_farmasi',
        'sirkulasi_obat3',
        'ppn_obat',
        'data_batch',
        'kadaluarsa_batch',
        'sisa_stok',
        'obat_per_resep',
        'pengajuan_barang_medis',
        '10_obat_terbanyak_poli',
        'rekap_obat_poli',
        'rekap_obat_pasien',
        'hibah_obat_bhp',
        'sirkulasi_obat4',
        'sirkulasi_obat5',
        'permintaan_stok_obat_pasien',
        'verifikasi_penerimaan_farmasi',
        'ringkasan_pengajuan_obat',
        'ringkasan_pemesanan_obat',
        'ringkasan_pengadaan_obat',
        'ringkasan_penerimaan_obat',
        'ringkasan_hibah_obat',
        'ringkasan_penjualan_obat',
        'ringkasan_beri_obat',
        'ringkasan_piutang_obat',
        'ringkasan_stok_keluar_obat',
        'ringkasan_retur_suplier_obat',
        'ringkasan_retur_pembeli_obat',
        'penggunaan_bhp_ok',
        'resep_luar',
        'stok_akhir_farmasi_pertanggal',
        'telaah_resep',
        'permintaan_resep_pulang',
        'ringkasan_biaya_obat_pasien_pertanggal',
        'nilai_penerimaan_vendor_farmasi_perbulan',
        'obat_bhp_tidakbergerak',
        'sirkulasi_obat6',
        'ipsrs_barang',
        'ipsrs_pengadaan_barang',
        'ipsrs_stok_keluar',
        'ipsrs_rekap_pengadaan',
        'ipsrs_rekap_stok_keluar',
        'ipsrs_pengeluaran_harian',
        'ipsrs_jenis_barang',
        'pengambilan_penunjang_utd',
        'suplier_penunjang',
        'ipsrs_pengadaan_pertanggal',
        'ipsrs_stokkeluar_pertanggal',
        'permintaan_non_medis',
        'rekap_permintaan_non_medis',
        'surat_pemesanan_non_medis',
        'penerimaan_non_medis',
        'rekap_pemesanan_non_medis',
        'stok_opname_logistik',
        'sirkulasi_non_medis',
        'pengajuan_barang_nonmedis',
        'sirkulasi_non_medis2',
        'ipsrs_returbeli',
        'ipsrs_riwayat_barang',
        'verifikasi_penerimaan_logistik',
        'ringkasan_pengajuan_nonmedis',
        'ringkasan_pemesanan_nonmedis',
        'ringkasan_pengadaan_nonmedis',
        'ringkasan_penerimaan_nonmedis',
        'ringkasan_stokkeluar_nonmedis',
        'ringkasan_returbeli_nonmedis',
        'hibah_non_medis',
        'nilai_penerimaan_vendor_nonmedis_perbulan',
        'inventaris_jenis',
        'inventaris_kategori',
        'inventaris_merk',
        'inventaris_ruang',
        'inventaris_produsen',
        'inventaris_koleksi',
        'inventaris_inventaris',
        'inventaris_sirkulasi',
        'barang_cssd',
        'pemakaian_air_pdam',
        'limbah_b3_medis',
        'limbah_domestik',
        'mutu_air_limbah',
        'pest_control',
        'pengajuan_asetinventaris',
        'rekap_pengajuan_aset_departemen',
        'permintaan_perbaikan_inventaris',
        'asal_hibah',
        'pemakaian_air_tanah',
        'perbaikan_inventaris',
        'pemeliharaan_inventaris',
        'pengadaan_aset_inventaris',
        'suplier_inventaris',
        'penerimaan_aset_inventaris',
        'hibah_aset_inventaris',
        'pemeliharaan_gedung',
        'parkir_jenis',
        'parkir_in',
        'parkir_out',
        'parkir_rekap_harian',
        'parkir_rekap_bulanan',
        'parkir_barcode',
        'harian_tindakan_poli',
        'obat_per_poli',
        'obat_per_kamar',
        'obat_per_dokter_ralan',
        'obat_per_dokter_ranap',
        'harian_dokter',
        'bulanan_dokter',
        'harian_paramedis',
        'bulanan_paramedis',
        'pembayaran_ralan',
        'pembayaran_ranap',
        'rekap_pembayaran_ralan',
        'rekap_pembayaran_ranap',
        'tagihan_masuk',
        'tambahan_biaya',
        'potongan_biaya',
        'jm_ranap_dokter',
        'harian_tindakan_dokter',
        'fee_visit_dokter',
        'fee_bacaan_ekg',
        'fee_rujukan_rontgen',
        'fee_rujukan_ranap',
        'fee_ralan',
        'obat_per_dokter_peresep',
        'rekap_per_shift',
        'obat_per_cara_bayar',
        'payment_point',
        'harian_js',
        'bulanan_js',
        'harian_paket_bhp',
        'bulanan_paket_bhp',
        'harian_kamar',
        'harian_kso',
        'bulanan_kso',
        'harian_menejemen',
        'bulanan_menejemen',
        'piutang_ralan',
        'piutang_ranap',
        'detail_tindakan',
        'rekap_poli_anak',
        'pembayaran_per_unit',
        'rekap_pembayaran_per_unit',
        'detail_tindakan_okvk',
        'detailjmdokter2',
        'pembayaran_akun_bayar',
        'piutang_akun_piutang',
        'payment_point2',
        'pembayaran_akun_bayar2',
        'hapus_nota_salah',
        'pembayaran_akun_bayar3',
        'ringkasan_tindakan',
        'pembayaran_akun_bayar4',
        'pembayaran_akun_bayar5',
        'jasa_tindakan_pasien',
        'rekap_jm_dokter',
        'penyakit',
        'obat_penyakit',
        'penyakit_ralan',
        'penyakit_ranap',
        'penyakit_pd3i',
        'surveilans_pd3i',
        'surveilans_ralan',
        'surveilans_ranap',
        'pny_takmenular_ranap',
        'pny_takmenular_ralan',
        'kunjungan_ralan',
        'rl32',
        'rl33',
        'rl37',
        'rl38',
        'rl34',
        'rl36',
        'kunjungan_ranap',
        'icd9',
        'sensus_harian_poli',
        'rl4a',
        'rl4b',
        'rl4asebab',
        'rl4bsebab',
        'lama_pelayanan_ralan',
        'harian_HAIs',
        'bulanan_HAIs',
        'hais_perbangsal',
        'hitung_bor',
        'lama_pelayanan_apotek',
        'hitung_alos',
        'penyakit_menular_ranap',
        'penyakit_menular_ralan',
        'pembatalan_periksa_dokter',
        'cek_entry_ralan',
        'sensus_harian_ralan',
        'insiden_keselamatan',
        'ranap_per_ruang',
        'penyakit_ranap_cara_bayar',
        'anggota_militer_dirawat',
        'lama_pelayanan_radiologi',
        'lama_pelayanan_lab',
        'rekap_lab_pertahun',
        'perujuk_lab_pertahun',
        'rekap_radiologi_pertahun',
        'perujuk_radiologi_pertahun',
        'jumlah_porsi_diet',
        'jumlah_macam_diet',
        'kunjungan_permintaan_lab',
        'kunjungan_permintaan_lab2',
        'kunjungan_permintaan_radiologi',
        'kunjungan_permintaan_radiologi2',
        'kemenkes_sitt',
        'rekap_mutasi_berkas',
        'skrining_ralan_pernapasan_pertahun',
        'kunjungan_bangsal_pertahun',
        'kip_pasien_ranap',
        'kip_pasien_ralan',
        'rekap_permintaan_diet',
        'daftar_pasien_ranap',
        'daftar_pasien_ranaptni',
        'harian_HAIs2',
        'rekap_kunjungan',
        'kedatangan_pasien',
        'registrasi_poli_per_tanggal',
        'lama_pelayanan_poli',
        'laporan_tahunan_irj',
        'bulanan_klasifikasi_pasien_ranap',
        'harian_klasifikasi_pasien_ranap',
        'klasifikasi_pasien_perbangsal',
        'lama_penyiapan_rm',
        'dosis_radiologi',
        'demografi_umur_kunjungan',
        'lama_pelayanan_pasien',
        'lama_operasi',
        'status_data_rm',
        'laporan_tahunan_igd',
        'anggota_polri_dirawat',
        'daftar_pasien_ranap_polri',
        'laporan_penyakit_polri',
        'jumlah_pengunjung_ralan_polri',
        'jumlah_pengunjung_ralan_tni',
        'laporan_penyakit_tni',
        'laporan_bulanan_irj',
        'deposit_pasien',
        'piutang_pasien',
        'kamar',
        'tarif_ralan',
        'tarif_ranap',
        'tarif_lab',
        'tarif_radiologi',
        'tarif_operasi',
        'akun_rekening',
        'rekening_tahun',
        'posting_jurnal',
        'buku_besar',
        'cashflow',
        'keuangan',
        'pengeluaran',
        'akun_bayar',
        'bayar_pemesanan_obat',
        'pemasukan_lain',
        'pengaturan_rekening',
        'bayar_piutang',
        'jurnal_harian',
        'piutang_pasien2',
        'tarif_utd',
        'rincian_piutang_pasien',
        'hutang_obat',
        'akun_piutang',
        'detail_piutang_penjab',
        'bayar_pesan_non_medis',
        'bayar_pemesanan_iventaris',
        'hutang_barang_non_medis',
        'saldo_akun_perbulan',
        'penagihan_piutang_pasien',
        'akun_penagihan_piutang',
        'set_tarif_online',
        'klaim_rawat_jalan',
        'rvu_bpjs',
        'omset_penerimaan',
        'validasi_penagihan_piutang',
        'pendapatan_per_carabayar',
        'pembayaran_bank_jateng',
        'tagihan_hutang_obat',
        'pengembalian_deposit_pasien',
        'validasi_tagihan_hutang_obat',
        'piutang_obat_belum_lunas',
        'akun_aset_inventaris',
        'hutang_aset_inventaris',
        'titip_faktur_non_medis',
        'validasi_tagihan_non_medis',
        'titip_faktur_aset',
        'validasi_tagihan_aset',
        'peminjam_piutang',
        'piutang_lainlain',
        'bayar_piutang_lain',
        'cara_bayar',
        'kategori_pengeluaran_harian',
        'kategori_pemasukan_lain',
        'bayar_jm_dokter',
        'pembayaran_briva',
        'akun_bayar_hutang',
        'ringkasan_hutang_vendor_farmasi',
        'ringkasan_hutang_vendor_nonmedis',
        'pembayaran_bank_papua',
        'pembayaran_bank_jabar',
        'bpjs_cek_nik',
        'bpjs_cek_kartu',
        'bpjs_cek_riwayat',
        'bpjs_cek_nomor_rujukan',
        'bpjs_referensi_diagnosa',
        'bpjs_referensi_poli',
        'bpjs_referensi_faskes',
        'bpjs_sep',
        'bpjs_monitoring_klaim',
        'reklasifikasi_ralan',
        'reklasifikasi_ranap',
        'aplicare_referensi_kamar',
        'aplicare_ketersediaan_kamar',
        'inacbg_klaim_baru_otomatis',
        'inacbg_klaim_baru_manual',
        'inacbg_coder_nik',
        'inhealth_cek_eligibilitas',
        'inhealth_referensi_jenpel_ruang_rawat',
        'inhealth_referensi_poli',
        'inhealth_referensi_faskes',
        'inhealth_sjp',
        'pcare_cek_penyakit',
        'pcare_cek_kesadaran',
        'pcare_cek_rujukan',
        'inacbg_klaim_baru_manual2',
        'bpjs_cek_prosedur',
        'bpjs_cek_kelas_rawat',
        'bpjs_cek_dokter',
        'bpjs_cek_spesialistik',
        'bpjs_cek_ruangrawat',
        'bpjs_cek_carakeluar',
        'bpjs_cek_pasca_pulang',
        'bpjs_cek_nomor_rujukan_rs',
        'bpjs_cek_rujukan_kartu_pcare',
        'bpjs_cek_rujukan_kartu_rs',
        'bpjs_rujukan_keluar',
        'mapping_poli_bpjs',
        'bpjs_cek_propinsi',
        'bpjs_cek_kabupaten',
        'bpjs_cek_kecamatan',
        'bpjs_cek_dokterdpjp',
        'bpjs_cek_riwayat_rujukanrs',
        'bpjs_cek_tanggal_rujukan',
        'bpjs_histori_pelayanan',
        'pcare_cek_dokter',
        'pcare_cek_poli',
        'pcare_cek_provider',
        'pcare_cek_statuspulang',
        'pcare_cek_spesialis',
        'pcare_cek_subspesialis',
        'pcare_cek_sarana',
        'pcare_cek_khusus',
        'pcare_cek_obat',
        'pcare_cek_tindakan',
        'pcare_cek_faskessubspesialis',
        'pcare_cek_faskesalihrawat',
        'pcare_cek_faskesthalasemia',
        'pcare_mapping_obat',
        'pcare_mapping_tindakan',
        'pcare_club_prolanis',
        'pcare_mapping_poli',
        'pcare_kegiatan_kelompok',
        'pcare_mapping_tindakan_ranap',
        'pcare_peserta_kegiatan_kelompok',
        'bridging_pcare_daftar',
        'pcare_mapping_dokter',
        'bpjs_cek_sep',
        'sisrute_referensi_faskes',
        'sisrute_referensi_alasanrujuk',
        'sisrute_referensi_diagnosa',
        'sisrute_rujukan_masuk',
        'sisrute_rujukan_keluar',
        'bpjs_cek_skdp',
        'pcare_pemberian_obat',
        'pcare_pemberian_tindakan',
        'siranap_ketersediaan_kamar',
        'bpjs_mapping_dokterdpjp',
        'inhealth_mapping_poli',
        'inhealth_mapping_dokter',
        'inhealth_mapping_tindakan_ralan',
        'inhealth_mapping_tindakan_ranap',
        'inhealth_mapping_tindakan_radiologi',
        'inhealth_mapping_tindakan_laborat',
        'inhealth_mapping_tindakan_operasi',
        'inhealth_kirim_tagihan',
        'pasien_corona',
        'diagnosa_pasien_corona',
        'perawatan_pasien_corona',
        'pcare_cek_kartu',
        'bpjs_diagnosa_prb',
        'bpjs_obat_prb',
        'bpjs_surat_kontrol',
        'bpjs_surat_pri',
        'referensi_mobilejkn_bpjs',
        'batal_pendaftaran_mobilejkn_bpjs',
        'akun_host_to_host_bank_jateng',
        'integrasi_briapi',
        'pcare_alasan_tacc',
        'bpjs_referensi_poli_hfis',
        'bpjs_referensi_dokter_hfis',
        'bpjs_referensi_jadwal_hfis',
        'bpjs_program_prb',
        'bpjs_suplesi_jasaraharja',
        'bpjs_data_induk_kecelakaan',
        'bpjs_sep_internal',
        'bpjs_klaim_jasa_raharja',
        'bpjs_daftar_finger_print',
        'bpjs_rujukan_khusus',
        'bpjs_task_id',
        'bpjs_referensi_dpho_apotek',
        'bpjs_referensi_poli_apotek',
        'bpjs_referensi_faskes_apotek',
        'bpjs_referensi_spesialistik_apotek',
        'akun_host_to_host_bank_papua',
        'akun_host_to_host_bank_jabar',
        'satu_sehat_referensi_dokter',
        'satu_sehat_referensi_pasien',
        'satu_sehat_mapping_departemen',
        'satu_sehat_mapping_lokasi',
        'satu_sehat_kirim_encounter',
        'satu_sehat_kirim_condition',
        'satu_sehat_kirim_observationttv',
        'pasien',
        'pasien_meninggal',
        'kelahiran_bayi',
        'peminjaman_berkas',
        'resume_pasien',
        'diagnosa_pasien',
        'retensi_rm',
        'mutasi_berkas',
        'catatan_pasien',
        'data_HAIs',
        'klasifikasi_pasien_ranap',
        'perusahaan_pasien',
        'berkas_digital_perawatan',
        'pengaduan_pasien',
        'insiden_keselamatan_pasien',
        'suku_bangsa',
        'bahasa_pasien',
        'golongan_tni',
        'satuan_tni',
        'jabatan_tni',
        'pangkat_tni',
        'golongan_polri',
        'satuan_polri',
        'jabatan_polri',
        'pangkat_polri',
        'cacat_fisik',
        'data_triase_igd',
        'master_triase_skala1',
        'master_triase_skala2',
        'master_triase_skala3',
        'master_triase_skala4',
        'master_triase_skala5',
        'master_triase_pemeriksaan',
        'master_triase_macamkasus',
        'data_resume_pasien',
        'asuhan_gizi',
        'monitoring_asuhan_gizi',
        'penilaian_awal_keperawatan_ralan',
        'master_masalah_keperawatan',
        'penilaian_awal_keperawatan_gigi',
        'master_masalah_keperawatan_gigi',
        'penilaian_awal_keperawatan_kebidanan',
        'penilaian_awal_keperawatan_anak',
        'master_masalah_keperawatan_anak',
        'master_imunisasi',
        'hemodialisa',
        'soap_perawatan',
        'skrining_gizi',
        'penilaian_awal_keperawatan_ranapkebidanan',
        'penilaian_awal_medis_ralan',
        'master_masalah_keperawatan_mata',
        'penilaian_awal_keperawatan_mata',
        'penilaian_awal_medis_ranap',
        'penilaian_awal_medis_ranap_kebidanan',
        'penilaian_awal_medis_ralan_kebidanan',
        'penilaian_awal_medis_igd',
        'penilaian_awal_medis_ralan_anak',
        'penilaian_fisioterapi',
        'penilaian_mcu',
        'riwayat_kamar_pasien',
        'uji_fungsi_kfr',
        'hapus_berkas_digital_perawatan',
        'gabung_rm',
        'master_masalah_keperawatan_igd',
        'penilaian_awal_keperawatan_igd',
        'penilaian_awal_keperawatan_ranap',
        'master_rencana_keperawatan',
        'master_rencana_keperawatan_anak',
        'soap_ralan_polri',
        'soap_ranap_polri',
        'catatan_observasi_igd',
        'catatan_observasi_ranap',
        'catatan_observasi_ranap_kebidanan',
        'catatan_observasi_ranap_postpartum',
        'penilaian_awal_medis_ralan_tht',
        'penilaian_psikologi',
        'penilaian_awal_medis_ralan_psikiatri',
        'penilaian_awal_medis_ralan_penyakit_dalam',
        'penilaian_awal_medis_ralan_mata',
        'penilaian_awal_medis_ralan_neurologi',
        'penilaian_awal_medis_ralan_orthopedi',
        'penilaian_awal_medis_ralan_bedah',
        'soap_ralan_tni',
        'soap_ranap_tni',
        'catatan_keperawatan_ranap',
        'master_rencana_keperawatan_gigi',
        'master_rencana_keperawatan_mata',
        'master_rencana_keperawatan_igd',
        'master_masalah_keperawatan_psikiatri',
        'master_rencana_keperawatan_psikiatri',
        'penilaian_awal_keperawatan_psikiatri',
        'pemantauan_pews_anak',
        'template_hasil_radiologi',
        'template_pemeriksaan',
        'penilaian_pre_operasi',
        'penilaian_pre_anestesi',
        'perencanaan_pemulangan',
        'penilaian_lanjutan_resiko_jatuh_dewasa',
        'penilaian_lanjutan_resiko_jatuh_anak',
        'penilaian_awal_medis_ralan_geriatri',
        'penilaian_tambahan_pasien_geriatri',
        'skrining_nutrisi_dewasa',
        'skrining_nutrisi_lansia',
        'hasil_pemeriksaan_usg',
        'skrining_nutrisi_anak',
        'konseling_farmasi',
        'pelayanan_informasi_obat',
        'jawaban_pio_apoteker',
        'transfer_pasien_antar_ruang',
        'catatan_cek_gds',
        'checklist_pre_operasi',
        'pengambilan_utd2',
        'utd_medis_rusak',
        'pengambilan_penunjang_utd2',
        'utd_penunjang_rusak',
        'utd_donor',
        'utd_cekal_darah',
        'utd_komponen_darah',
        'utd_stok_darah',
        'utd_pemisahan_darah',
        'utd_penyerahan_darah',
        'utd_pendonor',
        'grafik_kunjungan_poli',
        'grafik_kunjungan_perdokter',
        'grafik_kunjungan_perpekerjaan',
        'grafik_kunjungan_perpendidikan',
        'grafik_kunjungan_pertahun',
        'grafik_kunjungan_perbulan',
        'grafik_kunjungan_pertanggal',
        'grafik_kunjungan_demografi',
        'grafik_kunjungan_statusdaftartahun',
        'grafik_kunjungan_statusdaftartahun2',
        'grafik_kunjungan_statusdaftarbulan',
        'grafik_kunjungan_statusdaftarbulan2',
        'grafik_kunjungan_statusdaftartanggal',
        'grafik_kunjungan_statusdaftartanggal2',
        'grafik_kunjungan_statusbataltahun',
        'grafik_kunjungan_statusbatalbulan',
        'grafik_kunjungan_statusbataltanggal',
        'grafik_kunjungan_percarabayar',
        'grafik_kunjungan_ranaptahun',
        'grafik_lab_ralantahun',
        'grafik_rad_ralantahun',
        'grafik_per_perujuk',
        'grafik_lab_ralanbulan',
        'grafik_rad_ralanbulan',
        'grafik_lab_ralanhari',
        'grafik_rad_ralanhari',
        'grafik_ikp_pertahun',
        'grafik_ikp_perbulan',
        'grafik_ikp_pertanggal',
        'grafik_ikp_jenis',
        'grafik_ikp_dampak',
        'grafik_kunjungan_per_agama',
        'grafik_kunjungan_per_umur',
        'grafik_kunjungan_suku',
        'grafik_kunjungan_bahasa',
        'grafik_kunjungan_per_cacat',
        'grafik_tb_periodelaporan',
        'grafik_tb_rujukan',
        'grafik_tb_riwayat',
        'grafik_tb_tipediagnosis',
        'grafik_tb_statushiv',
        'grafik_tb_skoringanak',
        'grafik_tb_konfirmasiskoring5',
        'grafik_tb_konfirmasiskoring6',
        'grafik_tb_sumberobat',
        'grafik_tb_hasilakhirpengobatan',
        'grafik_tb_hasilteshiv',
        'grafik_air_pdam_pertanggal',
        'grafik_air_pdam_perbulan',
        'grafik_limbahb3_pertanggal',
        'grafik_limbahb3_perbulan',
        'grafik_limbahdomestik_pertanggal',
        'grafik_limbahdomestik_perbulan',
        'grafik_k3_pertahun',
        'grafik_k3_perbulan',
        'grafik_k3_pertanggal',
        'grafik_k3_perjeniscidera',
        'grafik_k3_perpenyebab',
        'grafik_k3_perjenisluka',
        'grafik_k3_lokasikejadian',
        'grafik_k3_dampakcidera',
        'grafik_k3_perjenispekerjaan',
        'grafik_k3_perbagiantubuh',
        'grafik_kunjungan_ranapbulan',
        'grafik_kunjungan_ranaptanggal',
        'grafik_kunjungan_ranap_peruang',
        'grafik_jenjang_jabatanpegawai',
        'grafik_bidangpegawai',
        'grafik_departemenpegawai',
        'grafik_pendidikanpegawai',
        'grafik_sttswppegawai',
        'grafik_sttskerjapegawai',
        'grafik_sttspulangranap',
        'item_apotek_jenis',
        'item_apotek_kategori',
        'item_apotek_golongan',
        'item_apotek_industrifarmasi',
        'grafik_pengajuan_aset_urgensi',
        'grafik_pengajuan_aset_status',
        'grafik_pengajuan_aset_departemen',
        'grafik_kelompok_jabatanpegawai',
        'grafik_resiko_kerjapegawai',
        'grafik_emergency_indexpegawai',
        'grafik_inventaris_ruang',
        'grafik_inventaris_jenis',
        'grafik_HAIs_pasienbangsal',
        'grafik_HAIs_pasienbulan',
        'grafik_HAIs_laju_vap',
        'grafik_HAIs_laju_iad',
        'grafik_HAIs_laju_pleb',
        'grafik_HAIs_laju_isk',
        'grafik_HAIs_laju_ilo',
        'grafik_HAIs_laju_hap',
        'penerimaan_obat_perbulan',
        'grafik_air_tanah_pertanggal',
        'grafik_air_tanah_perbulan',
        'grafik_harian_hemodialisa',
        'grafik_bulanan_hemodialisa',
        'grafik_tahunan_hemodialisa',
        'grafik_bulanan_meninggal',
        'grafik_inventaris_kategori',
        'grafik_inventaris_merk',
        'grafik_inventaris_produsen',
        'grafik_porsidiet_pertanggal',
        'grafik_porsidiet_perbulan',
        'grafik_porsidiet_pertahun',
        'grafik_porsidiet_perbangsal',
        'grafik_perbaikan_inventaris_pertanggal',
        'grafik_perbaikan_inventaris_perbulan',
        'grafik_perbaikan_inventaris_pertahun',
        'grafik_perbaikan_inventaris_perpelaksana_status',
        'surat_indeks',
        'surat_map',
        'surat_almari',
        'surat_rak',
        'surat_ruang',
        'surat_klasifikasi',
        'surat_status',
        'surat_sifat',
        'surat_balas',
        'surat_masuk',
        'surat_keluar',
        'surat_sakit',
        'pengumuman_epasien',
        'surat_hamil',
        'surat_bebas_narkoba',
        'surat_keterangan_covid',
        'surat_cuti_hamil',
        'skdp_bpjs',
        'surat_keterangan_rawat_inap',
        'surat_keterangan_sehat',
        'surat_sakit_pihak_2',
        'surat_bebas_tbc',
        'surat_buta_warna',
        'surat_bebas_tato',
        'surat_kewaspadaan_kesehatan',
        'persetujuan_penolakan_tindakan',
        'surat_pulang_atas_permintaan_sendiri',
        'surat_pernyataan_pasien_umum',
        'surat_persetujuan_umum',
        'ruang_perpustakaan',
        'kategori_perpustakaan',
        'jenis_perpustakaan',
        'pengarang_perpustakaan',
        'penerbit_perpustakaan',
        'koleksi_perpustakaan',
        'inventaris_perpustakaan',
        'set_peminjaman_perpustakaan',
        'denda_perpustakaan',
        'anggota_perpustakaan',
        'peminjaman_perpustakaan',
        'bayar_denda_perpustakaan',
        'ebook_perpustakaan',
        'toko_suplier',
        'toko_jenis',
        'toko_barang',
        'stok_opname_toko',
        'toko_riwayat_barang',
        'toko_surat_pemesanan',
        'toko_pengajuan_barang',
        'toko_penerimaan_barang',
        'toko_pengadaan_barang',
        'toko_member',
        'toko_penjualan',
        'toko_piutang',
        'toko_retur_beli',
        'toko_pendapatan_harian',
        'toko_bayar_piutang',
        'toko_piutang_harian',
        'toko_penjualan_harian',
        'toko_hutang',
        'toko_bayar_pemesanan',
        'toko_sirkulasi',
        'toko_retur_jual',
        'toko_retur_piutang',
        'toko_sirkulasi2',
        'toko_keuntungan_barang',
        'zis_pengeluaran_penerima_dankes',
        'zis_penghasilan_penerima_dankes',
        'zis_ukuran_rumah_penerima_dankes',
        'zis_dinding_rumah_penerima_dankes',
        'zis_lantai_rumah_penerima_dankes',
        'zis_atap_rumah_penerima_dankes',
        'zis_kepemilikan_rumah_penerima_dankes',
        'zis_kamar_mandi_penerima_dankes',
        'zis_dapur_rumah_penerima_dankes',
        'zis_kursi_rumah_penerima_dankes',
        'zis_kategori_phbs_penerima_dankes',
        'zis_elektronik_penerima_dankes',
        'zis_ternak_penerima_dankes',
        'zis_jenis_simpanan_penerima_dankes',
        'zis_kategori_asnaf_penerima_dankes',
        'zis_patologis_penerima_dankes',
        'setup_pjlab',
        'setup_otolokasi',
        'setup_jam_kamin',
        'setup_embalase',
        'tracer_login',
        'display',
        'set_harga_obat',
        'set_penggunaan_tarif',
        'set_oto_ralan',
        'biaya_harian',
        'biaya_masuk_sekali',
        'set_no_rm',
        'set_harga_obat_ralan',
        'set_harga_obat_ranap',
        'set_nota',
        'closing_kasir',
        'keterlambatan_presensi',
        'set_harga_kamar',
        'set_input_parsial',
        'display_apotek',
        'password_asuransi',
        'toko_set_harga',
        'jam_diet_pasien',
        'ruang_ok',
        'integrasi_khanza_health_services'
    ];

    protected $with = [
        'roles.permissions',
        'permissions',
    ];

    protected $searchColumns = [
        'pegawai.nik',
        'petugas.nama',
        'jabatan.nm_jbtn',
    ];

    protected static function booted()
    {
        parent::booted();

        static::addGlobalScope(function (Builder $query) {
            $sqlSelect = "
                pegawai.nik nik,
                pegawai.nama nama,
                coalesce(jabatan.nm_jbtn, spesialis.nm_sps, pegawai.jbtn) jbtn,
                (case when petugas.nip is not null then 'Petugas' when dokter.kd_dokter is not null then 'Dokter' else '-' end) jenis,
                user.id_user id_user,
                user.password password
            ";

            return $query->selectRaw($sqlSelect)
                ->join('pegawai', DB::raw('AES_DECRYPT(id_user, "nur")'), '=', 'pegawai.nik')
                ->leftJoin('petugas', 'pegawai.nik', '=', 'petugas.nip')
                ->leftJoin('jabatan', 'petugas.kd_jbtn', '=', 'jabatan.kd_jbtn')
                ->leftJoin('dokter', 'pegawai.nik', '=', 'dokter.kd_dokter')
                ->leftJoin('spesialis', 'dokter.kd_sps', '=', 'spesialis.kd_sps')
                ->orderBy('pegawai.nik');
        });
    }

    public function scopeWithHakAkses(Builder $query)
    {
        return $query->selectRaw('user.*');
    }

    public static function findByNRP(string $nrp, array $columns = ['*'])
    {
        if (empty($nrp)) return new static;

        return static::query()
            ->where('pegawai.nik', $nrp)
            ->first($columns);
    }

    public static function rawFindByNRP(string $nrp, array $columns = [''])
    {
        if (empty($nrp)) return new static;

        return static::query()
            ->withoutGlobalScopes()
            ->withHakAkses()
            ->whereRaw("AES_DECRYPT(user.id_user, 'nur') = ?", $nrp)
            ->first($columns);
    }
}
